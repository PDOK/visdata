{
    "version": 8,
    "name": "data",
    "sprite": "https://www.mapbox.com/mapbox-gl-styles/sprites/sprite",
    "glyphs": "mapbox://fonts/mapbox/{fontstack}/{range}.pbf",
    "sources": {
        "wm_vector":{
            "type": "vector",
            "url": "./styles/tilejson.json"
       }
    },
    "layers": [
        {
            "id": "labels_highway",
            "type": "symbol",
            "source": "wm_vector",
            "source-layer": "infra",
            "maxzoom": 11,
            "minzoom": 7,
            "filter": ["==", "lod2", "highway"],
            "symbol-placement": "line",
            "symbol-avoid-edges" : false,
            "layout": {
                "icon-image": "circle-15.svg",
                "icon-size": 10,
                "symbol-spacing" :{
                    "stops":[
                        [0,400],
                        [10, 800]
                ]
                },
                "text-field":"{name}",
                "text-font": ["Open Sans Bold"],
                "text-size":{
                    "stops":[
                        [0,0],
                        [8, 14],
                        [10, 16]
                ]
                },
                "text-max-width": 500,
                "text-anchor": "center",
                "text-line-height": 1.5,
                "text-justify": "center",
                "text-padding": 30,
                "text-allow-overlap": false
            },
            "paint":{
                "text-opacity": 1,
                "text-color": "#FFF",
                "text-halo-color": "#FF7F7F",
                "text-halo-width": 5
            }
        },
        {
            "id": "water_labels",
            "type": "symbol",
            "source": "wm_vector",
            "source-layer": "label",
            "maxzoom": 20,
            "minzoom": 10,
            "symbol-placement": "point",
            "symbol-avoid-edges" : false,
            "filter": ["==", "lod1", "water"],
            "layout": {
                "text-rotate": {
                    "type": "identity",
                    "property": "rotation"
                },
                "text-rotation-alignment":"map",
                "text-field":"{name}",
                "text-font": ["Open Sans Regular"],
                "text-size":10,
                "text-max-width": 100,
                "text-anchor": "center",
                "text-line-height": 1.5,
                "text-justify": "center",
                "text-padding": 2,
                "text-allow-overlap": true
            },
            "paint":{
                "text-opacity": 1,
                "text-color": "#007bc7"
            }
        },
         {
            "id": "building_labels",
            "type": "symbol",
            "source": "wm_vector",
            "source-layer": "label",
            "maxzoom": 20,
            "minzoom": 17,
            "symbol-placement": "point",
            "symbol-avoid-edges" : false,
            "filter": ["==", "lod1", "building_number"],
            "layout": {
                "text-rotate": {
                    "type": "identity",
                    "property": "rotation"
                },
                "text-rotation-alignment":"map",
                "text-field":"{name}",
                "text-font": ["Open Sans Regular"],
                "text-size":7,
                "text-max-width": 5,
                "text-anchor": "center",
                "text-line-height": 1.5,
                "text-justify": "center",
                "text-padding": 2,
                "text-allow-overlap": false
            },
            "paint":{
                "text-opacity": 1,
                "text-color": "#535353"
            }
        },
        {
            "id": "labels",
            "type": "symbol",
            "source": "wm_vector",
            "source-layer": "label",
            "maxzoom": 20,
            "minzoom": 7,
            "symbol-placement": "point",
            "symbol-avoid-edges" : false,
            "filter": ["==", "lod1", "residential"],
            "layout": {
                "text-field":"{name}",
                "text-font": ["Open Sans Bold"],
                "text-size":{
                    "property": "z_index",
                    "type": "categorical",
                    "stops":[
                        [1, 10],
                        [10, 10],
                        [100, 10],
                        [1000, 10],
                        [10000, 12],
                        [100000, 16]
                    ],
                    "default": 8
                },
                "text-max-width": 10,
                "text-anchor": "center",
                "text-line-height": 1.5,
                "text-justify": "center",
                "text-padding": 2,
                "text-allow-overlap": true
            },
            "paint":{
                "text-opacity": 1,
                "text-color": "#535353"
            }
        }